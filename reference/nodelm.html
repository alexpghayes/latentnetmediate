<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A helper function that exposes the adjacency matrix A, normalized
graph Laplacian L, and regularized graph Laplacian L_tau to
model formulas for convenient network regression. Primarily designed
to work with tidygraph::tbl_graph() objects, but can also be used
with a matrix representation of a graph together with a data.frame()
of nodal covariates."><title>Use spectral node embeddings in ordinary least squares regression — nodelm • netmediate</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use spectral node embeddings in ordinary least squares regression — nodelm"><meta property="og:description" content="A helper function that exposes the adjacency matrix A, normalized
graph Laplacian L, and regularized graph Laplacian L_tau to
model formulas for convenient network regression. Primarily designed
to work with tidygraph::tbl_graph() objects, but can also be used
with a matrix representation of a graph together with a data.frame()
of nodal covariates."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netmediate</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/interventions.html">Identified interventions under a linear mediated RDPG</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/alexpghayes/netmediate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Use spectral node embeddings in ordinary least squares regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/alexpghayes/netmediate/blob/HEAD/R/nodelm.R" class="external-link"><code>R/nodelm.R</code></a></small>
      <div class="d-none name"><code>nodelm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A helper function that exposes the adjacency matrix <code>A</code>, normalized
graph Laplacian <code>L</code>, and regularized graph Laplacian <code>L_tau</code> to
model formulas for convenient network regression. Primarily designed
to work with <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code> objects, but can also be used
with a matrix representation of a graph together with a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>
of nodal covariates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">nodelm</span><span class="op">(</span><span class="va">formula</span>, graph <span class="op">=</span> <span class="cn">NULL</span>, data <span class="op">=</span> <span class="cn">NULL</span>, attr <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>A regression formula that can include <a href="ase_specials.html">ase_specials</a>
and <a href="vsp_specials.html">vsp_specials</a>, which encode node embeddings. Data for non-
embedding terms can come from the global environment, <code>data</code>, or
can be named attributes of an <code>igraph</code> object. It is likely most
convenient and intuitive to but nodal covariates in the <code>nodes</code> table
of a <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code> object to expose nodal data. See <a href="reddit.html">reddit</a>,
<a href="addhealth.html">addhealth</a> and <a href="smoking.html">smoking</a> for examples.</p></dd>
<dt>graph</dt>
<dd><p>An optional <code><a href="https://rdrr.io/pkg/igraph/man/make_graph.html" class="external-link">igraph::graph()</a></code> or <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code>
object. If specified, the graph adjacency matrix <code>A</code>, normalized
graph Laplacian <code>L</code>, and regularized graph Laplacian <code>L_tau</code> are
injected into the environment of formula, so these matrices may be used
freely in <code>formula</code>. See <code><a href="https://rdrr.io/pkg/igraph/man/as_adjacency_matrix.html" class="external-link">igraph::as_adjacency_matrix()</a></code> for
details about the construction of <code>A</code>, and
<code><a href="https://rohelab.github.io/invertiforms/reference/NormalizedLaplacian.html" class="external-link">invertiforms::NormalizedLaplacian()</a></code> and
<code><a href="https://rohelab.github.io/invertiforms/reference/RegularizedLaplacian.html" class="external-link">invertiforms::RegularizedLaplacian()</a></code> for details about the construction
of <code>L</code> and <code>L_tau</code>. Note that you can also use node embeddings based
on arbitrary matrix representations of a graph--see the examples.</p></dd>
<dt>data</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> with one row for each node in the graph.</p></dd>
<dt>attr</dt>
<dd><p>Either <code>NULL</code> or a character string giving an edge
attribute name. If <code>NULL</code> a traditional adjacency matrix is returned.
If not <code>NULL</code> then the values of the given edge attribute are included
in the adjacency matrix. If the graph has multiple edges, the edge attribute
of an arbitrarily chosen edge (for the multiple edges) is included. This
argument is ignored if <code>edges</code> is <code>TRUE</code>.</p>
<p>Note that this works only for certain attribute types. If the <code>sparse</code>
argumen is <code>TRUE</code>, then the attribute must be either logical or
numeric. If the <code>sparse</code> argument is <code>FALSE</code>, then character is
also allowed. The reason for the difference is that the <code>Matrix</code>
package does not support character sparse matrices yet.</p></dd>
<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="https://declaredesign.org/r/estimatr/reference/lm_robust.html" class="external-link">estimatr::lm_robust</a></code></p><dl><dt><code>weights</code></dt>
<dd><p>the bare (unquoted) names of the weights variable in the
supplied data.</p></dd>

    <dt><code>subset</code></dt>
<dd><p>An optional bare (unquoted) expression specifying a subset
of observations to be used.</p></dd>

    <dt><code>clusters</code></dt>
<dd><p>An optional bare (unquoted) name of the variable that
corresponds to the clusters in the data.</p></dd>

    <dt><code>fixed_effects</code></dt>
<dd><p>An optional right-sided formula containing the fixed
effects that will be projected out of the data, such as <code>~ blockID</code>. Do not
pass multiple-fixed effects with intersecting groups. Speed gains are greatest for
variables with large numbers of groups and when using "HC1" or "stata" standard errors.
See 'Details'.</p></dd>

    <dt><code>se_type</code></dt>
<dd><p>The sort of standard error sought. If <code>clusters</code> is
not specified the options are "HC0", "HC1" (or "stata", the equivalent),
 "HC2" (default), "HC3", or
"classical". If <code>clusters</code> is specified the options are "CR0", "CR2" (default), or "stata". Can also specify "none", which may speed up estimation of the coefficients.</p></dd>

    <dt><code>ci</code></dt>
<dd><p>logical. Whether to compute and return p-values and confidence
intervals, TRUE by default.</p></dd>

    <dt><code>alpha</code></dt>
<dd><p>The significance level, 0.05 by default.</p></dd>

    <dt><code>return_vcov</code></dt>
<dd><p>logical. Whether to return the variance-covariance
matrix for later usage, TRUE by default.</p></dd>

    <dt><code>try_cholesky</code></dt>
<dd><p>logical. Whether to try using a Cholesky
decomposition to solve least squares instead of a QR decomposition,
FALSE by default. Using a Cholesky decomposition may result in speed gains, but should only
be used if users are sure their model is full-rank (i.e., there is no
perfect multi-collinearity)</p></dd>

  
</dl></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>lm_robust</code>. See <code><a href="https://declaredesign.org/r/estimatr/reference/lm_robust.html" class="external-link">estimatr::lm_robust()</a></code> for
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">### some examples where data is specified as a tidygraph</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># a regression that does not use any node embeddings</span></span>
<span class="r-in"><span class="fu">nodelm</span><span class="op">(</span><span class="va">grade</span> <span class="op">~</span> <span class="va">sex</span>, graph <span class="op">=</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error     t value  Pr(&gt;|t|)  CI Lower   CI Upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  9.79574861 0.04440072 220.6213812 0.0000000  9.708676 9.88282122</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale     -0.04574861 0.06299104  -0.7262717 0.4677509 -0.169278 0.07778078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               DF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 2160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale     2160</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># a regression including left and right singular embeddings of</span></span>
<span class="r-in"><span class="co"># the adjacency matrix and the normalized graph Laplacian</span></span>
<span class="r-in"><span class="fu">nodelm</span><span class="op">(</span><span class="va">grade</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">V</a></span><span class="op">(</span><span class="va">L</span>, <span class="fl">3</span><span class="op">)</span>, graph <span class="op">=</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error     t value      Pr(&gt;|t|)    CI Lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)   9.88341334 0.03359384 294.2031863  0.000000e+00   9.8175336</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale      -0.04178614 0.04415677  -0.9463134  3.440950e-01  -0.1283805</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)1     -2.24923503 0.58311500  -3.8572752  1.180282e-04  -3.3927626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)2     -0.40514171 1.25031572  -0.3240315  7.459457e-01  -2.8570945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)3    -14.11485102 0.67356255 -20.9555162  6.968986e-89 -15.4357523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)4      1.85125704 0.46755072   3.9594785  7.755365e-05   0.9343588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)5      5.49657934 1.32145795   4.1594811  3.314959e-05   2.9051118</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)1     -0.82929547 1.51535634  -0.5472610  5.842562e-01  -3.8010107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)2      2.33672123 1.90811678   1.2246217  2.208518e-01  -1.4052235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)3    -47.60310196 1.54159278 -30.8791677 1.237955e-173 -50.6262686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 CI Upper   DF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)   9.94929310 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale       0.04480824 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)1     -1.10570748 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)2      2.04681112 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)3    -12.79394976 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)4      2.76815531 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)5      8.08804685 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)1      2.14241976 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)2      6.07866598 2152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> V(L, 3)3    -44.57993531 2152</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">nodelm</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">smokes</span><span class="op">)</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">5</span><span class="op">)</span> , graph <span class="op">=</span> <span class="va">smoking</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error    t value     Pr(&gt;|t|)   CI Lower  CI Upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.96024972 0.09895098  9.7042975 1.083297e-17  0.7647832 1.1557162</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale      0.40650863 0.07779719  5.2252357 5.533918e-07  0.2528291 0.5601882</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)1    -1.57251864 1.50442927 -1.0452593 2.975305e-01 -4.5443489 1.3993116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)2     0.64105255 0.52974082  1.2101249 2.280732e-01 -0.4053907 1.6874958</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)3    -0.17947427 0.40233025 -0.4460869 6.561570e-01 -0.9742323 0.6152837</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)4    -0.09438519 0.33939577 -0.2780977 7.813080e-01 -0.7648232 0.5760529</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)5     1.10853421 0.33943585  3.2658135 1.343659e-03  0.4380170 1.7790514</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              DF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) 155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale     155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)1    155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)2    155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)3    155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)4    155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(A, 5)5    155</span>
<span class="r-in"></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Matrix.R-forge.R-project.org/" class="external-link">Matrix</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/as_adjacency_matrix.html" class="external-link">as_adjacency_matrix</a></span><span class="op">(</span><span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span>, attr <span class="op">=</span> <span class="st">"weight"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">node</span> <span class="op">&lt;-</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span> |&gt;</span>
<span class="r-in">  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> |&gt;</span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">node</span><span class="op">[</span><span class="fl">5</span>, <span class="st">"sex"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span class="r-in"><span class="va">node</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,209 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    sex    race     grade school level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> male   hispanic    10 B          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> male   hispanic    10 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> female hispanic     9 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> male   hispanic    10 B         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #BB0000;">NA</span>     hispanic     9 B         16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> female hispanic    11 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> female hispanic     9 B          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> male   white        9 B         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> male   white       11 B          8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> female white       10 B          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 2,199 more rows</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">nodelm</span><span class="op">(</span><span class="va">level</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">grade</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">node</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> estimatr::lm_robust(formula = formula, data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Standard error type:  HC2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Estimate Std. Error  t value  Pr(&gt;|t|)  CI Lower  CI Upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)         3.70848     1.5597   2.3776 1.751e-02    0.6497    6.7672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale            -2.87030     0.3345  -8.5816 1.771e-17   -3.5262   -2.2144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grade               0.48221     0.1375   3.5080 4.608e-04    0.2126    0.7518</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> raceblack           0.09632     0.8779   0.1097 9.126e-01   -1.6252    1.8179</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racehispanic        1.66457     0.7881   2.1120 3.480e-02    0.1190    3.2102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racemixed/other     2.48689     1.0766   2.3099 2.099e-02    0.3756    4.5982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racewhite           1.43935     0.8365   1.7207 8.545e-02   -0.2011    3.0798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)1   194.77881     9.1004  21.4032 3.198e-92  176.9321  212.6255</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)2   119.71518     9.2763  12.9055 9.585e-37  101.5237  137.9067</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)3  -185.53937     8.8289 -21.0149 2.916e-89 -202.8536 -168.2252</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)4   -89.70213     8.2256 -10.9052 5.536e-27 -105.8333  -73.5710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)5    76.51202     7.7617   9.8577 1.902e-22   61.2908   91.7332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)6  -155.05167    10.6856 -14.5104 1.437e-45 -176.0069 -134.0964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)7    19.97446     6.5063   3.0700 2.167e-03    7.2151   32.7338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)8    89.03534    11.4876   7.7506 1.405e-14   66.5074  111.5633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)9    -8.72338     9.0506  -0.9638 3.352e-01  -26.4723    9.0256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)10   28.35290     8.0184   3.5360 4.149e-04   12.6283   44.0775</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    DF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale          2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grade            2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> raceblack        2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racehispanic     2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racemixed/other  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racewhite        2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)1  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)2  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)3  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)4  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)5  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)6  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)7  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)8  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)9  2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)10 2132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.4453 ,	Adjusted R-squared:  0.4411 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic: 91.57 on 16 and 2132 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

