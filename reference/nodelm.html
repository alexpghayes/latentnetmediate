<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A helper function that exposes the adjacency matrix A, normalized
graph Laplacian L, and regularized graph Laplacian L_tau to
model formulas for convenient network regression. Primarily designed
to work with tidygraph::tbl_graph() objects, but can also be used
with a matrix representation of a graph together with a data.frame()
of nodal covariates."><title>Use spectral node embeddings in ordinary least squares regression — nodelm • netmediate</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Use spectral node embeddings in ordinary least squares regression — nodelm"><meta property="og:description" content="A helper function that exposes the adjacency matrix A, normalized
graph Laplacian L, and regularized graph Laplacian L_tau to
model formulas for convenient network regression. Primarily designed
to work with tidygraph::tbl_graph() objects, but can also be used
with a matrix representation of a graph together with a data.frame()
of nodal covariates."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netmediate</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Glasgow.html">Glasgow</a>
    <a class="dropdown-item" href="../articles/interventions.html">Identified interventions under a linear mediated RDPG</a>
    <a class="dropdown-item" href="../articles/reddit.html">reddit</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/alexpghayes/netmediate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Use spectral node embeddings in ordinary least squares regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/alexpghayes/netmediate/blob/HEAD/R/nodelm.R" class="external-link"><code>R/nodelm.R</code></a></small>
      <div class="d-none name"><code>nodelm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A helper function that exposes the adjacency matrix <code>A</code>, normalized
graph Laplacian <code>L</code>, and regularized graph Laplacian <code>L_tau</code> to
model formulas for convenient network regression. Primarily designed
to work with <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code> objects, but can also be used
with a matrix representation of a graph together with a <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>
of nodal covariates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nodelm</span><span class="op">(</span><span class="va">formula</span>, graph <span class="op">=</span> <span class="cn">NULL</span>, data <span class="op">=</span> <span class="cn">NULL</span>, attr <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula</dt>
<dd><p>A regression formula that can include <a href="ase_specials.html">ase_specials</a>
and <a href="vsp_specials.html">vsp_specials</a>, which encode node embeddings. Data for non-
embedding terms can come from the global environment, <code>data</code>, or
can be named attributes of an <code>igraph</code> object. It is likely most
convenient and intuitive to but nodal covariates in the <code>nodes</code> table
of a <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code> object to expose nodal data. See <a href="reddit.html">reddit</a>,
<a href="addhealth.html">addhealth</a> and <a href="smoking.html">smoking</a> for examples.</p></dd>


<dt>graph</dt>
<dd><p>An optional <code><a href="https://r.igraph.org/reference/make_graph.html" class="external-link">igraph::graph()</a></code> or <code><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">tidygraph::tbl_graph()</a></code>
object. If specified, the graph adjacency matrix <code>A</code>, normalized
graph Laplacian <code>L</code>, and regularized graph Laplacian <code>L_tau</code> are
injected into the environment of formula, so these matrices may be used
freely in <code>formula</code>. See <code><a href="https://r.igraph.org/reference/as_adjacency_matrix.html" class="external-link">igraph::as_adjacency_matrix()</a></code> for
details about the construction of <code>A</code>, and
<code><a href="https://rohelab.github.io/invertiforms/reference/NormalizedLaplacian.html" class="external-link">invertiforms::NormalizedLaplacian()</a></code> and
<code><a href="https://rohelab.github.io/invertiforms/reference/RegularizedLaplacian.html" class="external-link">invertiforms::RegularizedLaplacian()</a></code> for details about the construction
of <code>L</code> and <code>L_tau</code>. Note that you can also use node embeddings based
on arbitrary matrix representations of a graph--see the examples.</p></dd>


<dt>data</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> with one row for each node in the graph.</p></dd>


<dt>attr</dt>
<dd><p>Either <code>NULL</code> or a character string giving an edge
attribute name. If <code>NULL</code> a traditional adjacency matrix is returned.
If not <code>NULL</code> then the values of the given edge attribute are included
in the adjacency matrix. If the graph has multiple edges, the edge attribute
of an arbitrarily chosen edge (for the multiple edges) is included. This
argument is ignored if <code>edges</code> is <code>TRUE</code>.</p>
<p>Note that this works only for certain attribute types. If the <code>sparse</code>
argumen is <code>TRUE</code>, then the attribute must be either logical or
numeric. If the <code>sparse</code> argument is <code>FALSE</code>, then character is
also allowed. The reason for the difference is that the <code>Matrix</code>
package does not support character sparse matrices yet.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm</a></code></p><dl><dt><code>subset</code></dt>
<dd><p>an optional vector specifying a subset of observations
    to be used in the fitting process.  (See additional details about how
    this argument interacts with data-dependent bases in the
    ‘Details’ section of the <code><a href="https://rdrr.io/r/stats/model.frame.html" class="external-link">model.frame</a></code>
    documentation.)</p></dd>

    <dt><code>weights</code></dt>
<dd><p>an optional vector of weights to be used in the fitting
    process.  Should be <code>NULL</code> or a numeric vector.
    If non-NULL, weighted least squares is used with weights
    <code>weights</code> (that is, minimizing <code>sum(w*e^2)</code>); otherwise
    ordinary least squares is used.  See also ‘Details’,</p></dd>

    <dt><code>na.action</code></dt>
<dd><p>a function which indicates what should happen
    when the data contain <code>NA</code>s.  The default is set by
    the <code>na.action</code> setting of <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>, and is
    <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.fail</a></code> if that is unset.  The ‘factory-fresh’
    default is <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></code>.  Another possible value is
    <code>NULL</code>, no action.  Value <code><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.exclude</a></code> can be useful.</p></dd>

    <dt><code>method</code></dt>
<dd><p>the method to be used; for fitting, currently only
    <code>method = "qr"</code> is supported; <code>method = "model.frame"</code> returns
    the model frame (the same as with <code>model = TRUE</code>, see below).</p></dd>

    <dt><code>model,x,y,qr</code></dt>
<dd><p>logicals.  If <code>TRUE</code> the corresponding
    components of the fit (the model frame, the model matrix, the
    response, the QR decomposition) are returned.</p></dd>

    <dt><code>singular.ok</code></dt>
<dd><p>logical. If <code>FALSE</code> (the default in S but
    not in <span style="R">R</span>) a singular fit is an error.</p></dd>

    <dt><code>contrasts</code></dt>
<dd><p>an optional list. See the <code>contrasts.arg</code>
    of <code><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix.default</a></code>.</p></dd>

    <dt><code>offset</code></dt>
<dd><p>this can be used to specify an <em>a priori</em> known
    component to be included in the linear predictor during fitting.
    This should be <code>NULL</code> or a numeric vector or matrix of extents
    matching those of the response.  One or more <code><a href="https://rdrr.io/r/stats/offset.html" class="external-link">offset</a></code> terms can be
    included in the formula instead or as well, and if more than one are
    specified their sum is used.  See <code><a href="https://rdrr.io/r/stats/model.extract.html" class="external-link">model.offset</a></code>.</p></dd>

  
</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>lm</code>. See <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> for
details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">addhealth</span>, package <span class="op">=</span> <span class="st">"netmediate"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">smoking</span>, package <span class="op">=</span> <span class="st">"netmediate"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### some examples where data is specified as a tidygraph</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a regression that does not use any node embeddings</span></span></span>
<span class="r-in"><span><span class="fu">nodelm</span><span class="op">(</span><span class="va">grade</span> <span class="op">~</span> <span class="va">sex</span>, graph <span class="op">=</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = formula, data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      sexmale  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     9.79575     -0.04575  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a regression including left and right singular embeddings of</span></span></span>
<span class="r-in"><span><span class="co"># the adjacency matrix and the normalized graph Laplacian</span></span></span>
<span class="r-in"><span><span class="fu">nodelm</span><span class="op">(</span><span class="va">grade</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">V</a></span><span class="op">(</span><span class="va">L</span>, <span class="fl">3</span><span class="op">)</span>, graph <span class="op">=</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = formula, data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      sexmale     U(A, 5)1     U(A, 5)2     U(A, 5)3     U(A, 5)4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     9.87907     -0.03809     -2.26900      0.34124    -14.13067      1.85735  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    U(A, 5)5     V(L, 3)1     V(L, 3)2     V(L, 3)3  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     5.56470      0.47595      1.07513     47.55028  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">nodelm</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">smokes</span><span class="op">)</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="va">A</span>, <span class="fl">5</span><span class="op">)</span> , graph <span class="op">=</span> <span class="va">smoking</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = formula, data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)      sexmale     U(A, 5)1     U(A, 5)2     U(A, 5)3     U(A, 5)4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0.96025      0.40651      1.57252      0.64105     -0.17947     -0.09439  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    U(A, 5)5  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1.10853  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://Matrix.R-forge.R-project.org/" class="external-link">Matrix</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/as_adjacency_matrix.html" class="external-link">as_adjacency_matrix</a></span><span class="op">(</span><span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span>, attr <span class="op">=</span> <span class="st">"weight"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">node</span> <span class="op">&lt;-</span> <span class="va">addhealth</span><span class="op">[[</span><span class="fl">36</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">node</span><span class="op">[</span><span class="fl">5</span>, <span class="st">"sex"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">node</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2,209 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    sex    race     grade school level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> male   hispanic    10 B          5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> male   hispanic    10 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> female hispanic     9 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> male   hispanic    10 B         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="color: #BB0000;">NA</span>     hispanic     9 B         16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> female hispanic    11 B          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> female hispanic     9 B          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> male   white        9 B         19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> male   white       11 B          8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> female white       10 B          6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2,199 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">nodelm</span><span class="op">(</span><span class="va">level</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">grade</span> <span class="op">+</span> <span class="va">race</span> <span class="op">+</span> <span class="fu"><a href="ase_specials.html">U</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sign.html" class="external-link">sign</a></span><span class="op">(</span><span class="va">B</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">node</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> stats::lm(formula = formula, data = data)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residuals:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Min      1Q  Median      3Q     Max </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -29.221  -6.024  -1.228   4.687  34.829 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)         3.70846    1.62265   2.285 0.022385 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexmale            -2.87030    0.33382  -8.598  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> grade               0.48221    0.14445   3.338 0.000858 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> raceblack           0.09635    0.94038   0.102 0.918404    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racehispanic        1.66458    0.79837   2.085 0.037191 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racemixed/other     2.48689    1.11826   2.224 0.026260 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> racewhite           1.43935    0.84573   1.702 0.088919 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)1   194.77884    8.38885  23.219  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)2   119.71510    8.71828  13.732  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)3   185.53943    8.51792  21.782  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)4   -89.70215    7.91825 -11.329  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)5   -76.51199    9.25422  -8.268 2.37e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)6  -155.05165    8.64150 -17.943  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)7    19.97444    8.13131   2.456 0.014110 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)8    89.03533    8.31167  10.712  &lt; 2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)9    -8.72362    7.86190  -1.110 0.267294    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> U(sign(B), 10)10  -28.35095    8.06069  -3.517 0.000445 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual standard error: 7.711 on 2132 degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (60 observations deleted due to missingness)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Multiple R-squared:  0.4453,	Adjusted R-squared:  0.4411 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> F-statistic: 106.9 on 16 and 2132 DF,  p-value: &lt; 2.2e-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://alexpghayes.com" class="external-link">Alex Hayes</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

